var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},VORLON;!function(t){var e=function(t){function e(){t.call(this,"qrcode","control.html","control.css"),this._txtUrlOrigin="",this._txtUrlNa="",this._qrcodeUrlOrigin="",this._qrcodeUrlNa="",this._ready=!0,console.log("Started")}return __extends(e,t),e.prototype.getID=function(){return"QRCODE"},e.prototype.startDashboardSide=function(t){var e=this;void 0===t&&(t=null),this._insertHtmlContentAsync(t,function(t){e._inputFieldOrigin=t.querySelector("#txt-origin"),e._inputFieldNa=t.querySelector("#txt-na"),e._outputDivOrigin=t.querySelector("#qrcode-origin"),e._outputDivNa=t.querySelector("#qrcode-na"),$.ajax({url:"http://127.0.0.1:8050/qrcode",async:!1}).then(function(t){t=JSON.parse(t),e._txtUrlOrigin=t.origin,e._txtUrlNa=t.na,e._qrcodeUrlOrigin="https://s.waimai.baidu.com/xin/open.html#"+e._txtUrlOrigin,e._qrcodeUrlNa="https://s.waimai.baidu.com/xin/open.html#"+e._txtUrlNa.replace(/^(bdwm:\/\/native\?pageName=webview&url)/,"bdwm://native?pageName=webview&url=https%3A%2F%2Fs.waimai.baidu.com%2Fxin%2Fopen.html%23"),$("#txt-origin").val(e._txtUrlOrigin),$("#txt-na").val(e._txtUrlNa),$("#qrcode-origin").qrcode({width:200,height:200,text:e._qrcodeUrlOrigin}),$("#qrcode-na").qrcode({width:200,height:200,text:e._qrcodeUrlNa}),$("#qrcode-origin").bind("input propertychange",function(){$("#qrcode-origin")[0].removeChild($("#qrcode-origin")[0].childNodes[0]),e._qrcodeUrlOrigin="https://s.waimai.baidu.com/xin/open.html#"+$("#txt-origin").val(),$("#qrcode-origin").qrcode({width:200,height:200,text:e._qrcodeUrlOrigin})}),$("#qrcode-na").bind("input propertychange",function(){$("#qrcode-na")[0].removeChild($("#qrcode-na")[0].childNodes[0]),e._qrcodeUrlNa="https://s.waimai.baidu.com/xin/open.html#"+$("#txt-na").val().replace(/^(bdwm:\/\/native\?pageName=webview&url)/,"bdwm://native?pageName=webview&url=https%3A%2F%2Fs.waimai.baidu.com%2Fxin%2Fopen.html%23"),$("#qrcode-na").qrcode({width:200,height:200,text:e._qrcodeUrlNa})})})})},e.prototype.onRealtimeMessageReceivedFromClientSide=function(t){console.log(t.message)},e}(t.DashboardPlugin);t.QrcodeDashboard=e,t.Core.RegisterDashboardPlugin(new e)}(VORLON||(VORLON={}));